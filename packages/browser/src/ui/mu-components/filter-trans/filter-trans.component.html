<div class="nc-content-div"
[ngClass.xl]="['web-content-div']" 
[ngClass.lg]="['web-content-div']" 
[ngClass.md]="['web-content-div']"
[ngClass.sm]="['web-content-div']" mweb>

  <div class="filter-subtitle txt-xl-bld-dark primary-bg-light">{{ 'fltr_trns_sub_titl' | translate }}</div>

  <div class="filter-content-body" *ngFor="let filterItem of filterItems">

    <div class="date-range-filter" *ngIf="filterItem.type===FILTER_TYPE.DATE_RANGE">
      <div class="filter-type-title txt-xl-bld-dark">{{ filterItem.label | translate }}</div>

      <div class="inputs-and-error">
        <div class="filter-inputs">
          <mat-form-field class="range-form" floatLabel="always">
            <input matInput
              [matDatepicker]="startPicker"
              [formControl]="startDate"
              (dateChange)="setChangedValue($event, filterItem)"
              placeholder="{{ 'fltr_trns_strt_date' | translate }}"
              [nextInpFocus]="endPicker"
              class="date-range-select-cont txt-lg-bld-norm">
            <mat-datepicker-toggle matSuffix [for]="startPicker" disableRipple></mat-datepicker-toggle>
            <mat-datepicker #startPicker></mat-datepicker>
          </mat-form-field>
    
          <mat-form-field class="range-form" floatLabel="always">
            <input matInput
              [matDatepicker]="endPicker"
              [formControl]="endDate"
              (dateChange)="setChangedValue($event, filterItem)"
              placeholder="{{ 'fltr_trns_end_date' | translate }}"
              class="date-range-select-cont txt-lg-bld-norm">
            <mat-datepicker-toggle matSuffix [for]="endPicker" disableRipple></mat-datepicker-toggle>
            <mat-datepicker #endPicker></mat-datepicker>
          </mat-form-field>
        </div>
    
        <mat-error *ngIf="startDate.value && endDate.value && (startDate.value > endDate.value)"
          class="error-cont txt-sm-bld-dark error-text">
          {{ 'fltr_trns_date_err' | translate }}
        </mat-error>

        <mat-error *ngIf="endDate.value && !startDate.value"
            class="error-cont txt-sm-bld-dark error-text">
            {{ 'fltr_trns_strt_date_err' | translate }}
          </mat-error>
      </div>
    </div>

    <div class="date-filter" *ngIf="filterItem.type===FILTER_TYPE.DATE">
      <div class="filter-type-title txt-xl-bld-dark">{{ filterItem.label | translate }}</div>

      <div class="filter-inputs">
        <mat-form-field class="single-form" floatLabel="always">
          <input matInput
            [matDatepicker]="picker"
            (dateChange)="setChangedValue($event, filterItem)"
            placeholder="{{ 'fltr_trns_date_frmt' | translate }}"
            class="date-select-cont txt-lg-bld-norm">
          <mat-datepicker-toggle matSuffix [for]="picker" disableRipple></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
    </div>

    <div class="dropdown-filter" *ngIf="filterItem.type===FILTER_TYPE.DROP_DOWN">
      <div class="filter-type-title txt-xl-bld-dark">{{ filterItem.label | translate }}</div>

      <div class="filter-inputs border">
        <mat-select placeholder="{{ 'fltr_trns_slct' | translate }}"
          (selectionChange)="setChangedValue($event, filterItem)"
          class="dropdown-sel-cont txt-lg-bld-norm">

          <mat-option class="dropdown-opt txt-xl-bld-norm"
            *ngFor="let opt of filterItem.value"
            [value]="opt">
            {{ opt | translate }}
          </mat-option>
        </mat-select>
      </div>
    </div>

    <div class="number-range-filter" *ngIf="filterItem.type===FILTER_TYPE.NUMBER_RANGE">
      <div class="filter-type-title txt-xl-bld-dark">{{ filterItem.label | translate }}</div>

      <div class="inputs-and-error">
        <div class="filter-inputs">
          <mat-form-field class="range-form" floatLabel="always">
            <input matInput
              type="number"
              [formControl]="minAmount"
              (keyup)="setChangedValue($event, filterItem)"
              placeholder="{{ 'fltr_trns_min_amnt' | translate }} (&#8377;)"
              [nextInpFocus]="maxAmount"
              class="number-range-cont txt-lg-bld-norm">
          </mat-form-field>
  
          <mat-form-field class="range-form" floatLabel="always">
            <input matInput
              type="number"
              [formControl]="maxAmount"
              (keyup)="setChangedValue($event, filterItem)"
              placeholder="{{ 'fltr_trns_max_amnt' | translate }} (&#8377;)"
              class="number-range-cont txt-lg-bld-norm">
          </mat-form-field>
        </div>
    
        <mat-error *ngIf="minAmount.value && maxAmount.value && (minAmount.value > maxAmount.value)"
          class="error-cont txt-sm-bld-dark error-text">
          {{ 'fltr_trns_amnt_err' | translate }}
        </mat-error>

        <mat-error *ngIf="maxAmount.value && !minAmount.value"
          class="error-cont txt-sm-bld-dark error-text">
          {{ 'fltr_trns_min_amnt_err' | translate }}
        </mat-error>
      </div>
    </div>

    <div class="number-filter" *ngIf="filterItem.type===FILTER_TYPE.NUMBER">
      <div class="filter-type-title txt-xl-bld-dark">{{ filterItem.label | translate }}</div>

      <div class="filter-inputs">
        <mat-form-field class="single-form" floatLabel="always">
          <input matInput
            type="number"
            (keyup)="setChangedValue($event, filterItem)"
            placeholder="{{ 'fltr_trns_amnt' | translate }} (&#8377;)"
            class="number-cont txt-lg-bld-norm">
        </mat-form-field>
      </div>
    </div>

    <div class="text-filter" *ngIf="filterItem.type===FILTER_TYPE.TEXT">
      <div class="filter-type-title txt-xl-bld-dark">{{ filterItem.label | translate }}</div>

      <div class="filter-inputs">
        <mat-form-field class="single-form" floatLabel="always">
          <input matInput
            type="text"
            (keyup)="setChangedValue($event, filterItem)"
            placeholder="{{ 'fltr_trns_txt_srch' | translate }} (&#8377;)"
            class="text-cont txt-lg-bld-norm">
        </mat-form-field>
      </div>
    </div>

  </div>

  <footer class="glb-footer-cont web-footer-btn">
    <button class="button-primary glb-footer-btn" (click)="applyFilters()">
      {{ 'fltr_trns_aply_fltr' | translate }}
    </button>
  </footer>

</div>