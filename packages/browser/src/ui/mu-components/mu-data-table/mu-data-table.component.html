<div class="mu-table-cont">
  
  <div class="paginator">
    <div class="firstPage" class="pagenumber" (click)="onPageClick(1)">
      <i class="fa fa-chevron-left" aria-hidden="true"></i>
    </div>
    <div class="pagenumber txt-lg-reg-dark" *ngFor="let pageNumber of pageNumbers.slice(pageIndex, pageIndex + 5)"
      (click)="onPageClick(pageNumber)"
      [ngClass]="currActivePage === pageNumber ? 'sel-ind' : ''">
      {{ pageNumber }}
    </div>
    <div class="lastPage" class="pagenumber" (click)="onPageClick(pageNumbers.length)">
      <i class="fa fa-chevron-right" aria-hidden="true"></i>
    </div>
  </div>

  <div class="headers-cont">
    <div class="radio-btn" *ngIf="tableConfig?.enableRadio"></div>
    <div class="checkbox" *ngIf="tableConfig?.enableSelect">
      <mat-checkbox (change)="selectAll($event)" #slctAllBox></mat-checkbox>
    </div>
    <div class="header txt-xl-bld-dark" *ngFor="let header of tableConfig.headers" [style.width]="100/tableConfig.headers.length+'%'">
      {{ header.header }}
    </div>
  </div>
  
  <div class="table-row-cont" *ngFor="let rowData of dataToDisplay"
    [class.row-active]="selectedIndexes[rowData['rowIndex']]">
    
    <div class="radio-btn" *ngIf="tableConfig.enableRadio" >
      <mat-radio-group name="rowRadio">
        <mat-radio-button value="{{ rowData['rowIndex'] }}" (change)="radioSelect($event, rowData)"></mat-radio-button>
      </mat-radio-group>
    </div>

    <div class="checkbox" *ngIf="tableConfig.enableSelect">
      <mat-checkbox
       [checked]="selectedIndexes[rowData['rowIndex']]"
       (change)="rowSelect($event, rowData)">
      </mat-checkbox>
    </div>

    <div class="row-data txt-lg-med-norm" *ngFor="let header of tableConfig.headers" 
      [style.width]="100/tableConfig.headers.length+'%'">
      <ng-container [ngSwitch]="header.colType">

        <div *ngSwitchCase="COL_TYPE.TEXT" (click)="onDivClick(rowData, header.dataKey)">
          {{ header.constValue || rowData[header.dataKey] }}
        </div>

        <div *ngSwitchCase="COL_TYPE.IMAGE">
          <img src="{{ header.constValue || rowData[header.dataKey] }}">
        </div>

        <div *ngSwitchCase="COL_TYPE.ICON">
          <i class="{{ header.constValue || rowData[header.dataKey] }}"></i>
        </div>

        <div *ngSwitchCase="COL_TYPE.BUTTON" (click)="buttonClick(rowData, header.dataKey)">
          <button class="table-button txt-lg-med-norm primary-bg">
            {{ header.constValue || rowData[header.dataKey] }}
          </button>
        </div>

        <div *ngSwitchCase="COL_TYPE.DATE">
          {{ header.constValue || rowData[header.dataKey] | date }}
        </div>

        <div *ngSwitchCase="COL_TYPE.TOGGLE">
          <mat-slide-toggle (change)="toggleRow($event, rowData)"
          [checked]="toggleActIndexes[rowData['rowIndex']]">
          </mat-slide-toggle>
        </div>

        <div *ngSwitchCase="COL_TYPE.MORE_DETAILS">
          <i class="fa fa-ellipsis-v more-icon" [matMenuTriggerFor]="menu" aria-hidden="true"></i>
          <mat-menu #menu="matMenu" yPosition="below" xPosition="before">
            <button mat-menu-item *ngFor="let option of header.constValue" (click)="moreDetailsClick(option.id, rowData)"> 
              <span> {{ option.value }}</span>
            </button>
          </mat-menu>
        </div>
      </ng-container>
    </div>
  </div>

</div>
