<div [ngClass]="webMode ? ['web-view-input-comp'] : ['input-cont-comp']"
  [ngClass.xl]="webMode ? ['web-view-input-comp'] : ['web-input-cont-comp']"
  [ngClass.lg]="webMode ? ['web-view-input-comp'] : ['web-input-cont-comp']"
  [ngClass.md]="webMode ? ['web-view-input-comp'] : ['web-input-cont-comp']"
  [ngClass.sm]="webMode ? ['web-view-input-comp'] : ['web-input-cont-comp']">

  <div class="label-txt txt-lg-reg-norm" *ngIf="inputParams.label">
    {{ inputParams.label }}
  </div>

  <ng-container [ngSwitch]="inputParams.displayType">

    <ng-container *ngSwitchCase="DISPLAY_TYPE.INPUT_BOX">

      <ng-container *ngIf="inputParams.optionsParams; else showInputBox">

        <ng-container [ngSwitch]="inputParams.optionsParams.displayType">

          <ng-container *ngSwitchCase="OPTIONS_DISP_TYPE.TEXT_AREA">

            <div class="onb-input-box-cont border-primary">
              <input matInput
                placeholder="{{inputParams.placeHolder}}"
                type="{{inputParams.inputType}}"
                (updatedValue)="setChangedValues($event)"
                class="txt-lg-med-norm input-cont" 
                [formControl]="inputForm"
                name="input-text"
                [ncMaxLength]="inputParams.maxLength || 1000"
                (updatedValue)="inputForm.setValue($event)"
                textSecurity="inputParams.isPassword"
                [class.num-password-input]="inputParams.isPassword"
                autocomplete="off"
                required>
            </div>

            <ng-container *ngSwitchCase="OPTIONS_DISP_TYPE.INPUT">
              <ng-container 
                *ngTemplateOutlet="showInputBox">
              </ng-container>
            </ng-container>

          </ng-container>  

        </ng-container>  
   
      </ng-container>   
      
      <ng-template #showInputBox>

        <div class="onb-input-box-cont border-primary">
          <input matInput
            placeholder="{{inputParams.placeHolder}}"
            type="{{inputParams.inputType}}"
            (updatedValue)="setChangedValues($event)"
            class="txt-lg-med-norm input-cont" 
            [formControl]="inputForm"
            name="input-text"
            [ncMaxLength]="inputParams.maxLength || 1000"
            (updatedValue)="inputForm.setValue($event)"
            textSecurity="inputParams.isPassword"
            [class.num-password-input]="inputParams.isPassword"
            autocomplete="off"
            required>
          </div>

      </ng-template>  

    </ng-container>
      
  
    <ng-container *ngSwitchCase="DISPLAY_TYPE.SELECTION_BOX">

      <ng-container *ngIf="inputParams.optionsParams; else showSelectionBox">

        <ng-container [ngSwitch]="inputParams.optionsParams.displayType">

          <ng-container *ngSwitchCase="OPTIONS_DISP_TYPE.RADIO">

            <mat-radio-group [formControl]="inputForm"
              class="txt-lg-med-norm input-cont radio-group"
              (change)="selectedOption($event)">
              <mat-radio-button  *ngFor="let option of inputParams.options" [value]="option" 
                class="txt-lg-med-norm radio-button">
                {{ option.value }}
              </mat-radio-button>
            </mat-radio-group>

          </ng-container>
          
          <ng-container *ngSwitchCase="OPTIONS_DISP_TYPE.CHECK_BOX">

            <div class="checkbox-cont" *ngFor="let option of inputParams.options; let i = index">
              <mat-checkbox class="checkbox" (change)="checkedOption($event)">
                {{ option.value}}
              </mat-checkbox>
            </div>

          </ng-container>

          <ng-container *ngSwitchCase="OPTIONS_DISP_TYPE.DROP_DOWN">
            <ng-container 
              *ngTemplateOutlet="showSelectionBox">
            </ng-container>
          </ng-container>

        </ng-container>

      </ng-container>   
      

      <ng-template #showSelectionBox>

        <div class="onb-input-box-cont border-primary">
          <mat-select [formControl]="inputForm"
            placeholder="{{inputParams.placeHolder}}" 
            class="txt-lg-med-norm input-cont"
            (selectionChange)="selectedOption($event)"
            (openedChange)="dropDownToggle($event)">
            <mat-option *ngFor="let option of inputParams.options" [value]="option"
              class="txt-lg-med-norm">
              {{ option.value }}
            </mat-option>
          </mat-select>
        </div>

      </ng-template>  

    </ng-container>

    <ng-container *ngSwitchCase="DISPLAY_TYPE.CALENDAR_BOX">
      <div class="onb-input-box-cont border-primary">
        <input matInput
          [formControl]="inputForm"
          [matDatepicker]="picker" 
          (dateChange)="setDate($event)"
          placeholder="{{inputParams.placeHolder}}"
          class="txt-lg-med-norm input-cont">
        <mat-datepicker-toggle matSuffix [for]="picker" disableRipple="false"></mat-datepicker-toggle>
        <mat-datepicker touchUi #picker></mat-datepicker>
      </div>
    </ng-container>

    <ng-container *ngSwitchCase="DISPLAY_TYPE.DATE_RANGE" [formGroup]="dateRange">
      <div class="range">
        <div class="range-onb-input-box-cont border-primary">
          <input matInput
            formControlName="startDate"
            [matDatepicker]="startPicker" 
            (dateChange)="setDateRange($event)"
            placeholder="{{inputParams.placeHolder[0]}}"
            class="txt-lg-med-norm input-cont">
          <mat-datepicker-toggle matSuffix [for]="startPicker" disableRipple="false"></mat-datepicker-toggle>
          <mat-datepicker touchUi #startPicker></mat-datepicker>
        </div>

        <div class="range-onb-input-box-cont border-primary">
          <input matInput
            formControlName="endDate"
            [matDatepicker]="endPicker" 
            (dateChange)="setDateRange($event)"
            placeholder="{{inputParams.placeHolder[1]}}"
            class="txt-lg-med-norm input-cont">
          <mat-datepicker-toggle matSuffix [for]="endPicker" disableRipple="false"></mat-datepicker-toggle>
          <mat-datepicker touchUi #endPicker></mat-datepicker>
        </div>
      </div>
    </ng-container>

    <ng-container *ngSwitchCase="DISPLAY_TYPE.NUMBER_RANGE" [formGroup]="numberRange">
      <div class="range">
        <div class="range-onb-input-box-cont border-primary">
          <input matInput
            placeholder="{{inputParams.placeHolder[0]}}"
            type="number"
            (input)="setNumberRange($event)"
            class="txt-lg-med-norm input-cont" 
            formControlName="minAmount"
            name="input-text"
            textSecurity="inputParams.isPassword"
            [class.num-password-input]="inputParams.isPassword"
            autocomplete="off"
            required>
        </div>
    
        <div class="range-onb-input-box-cont border-primary">
          <input matInput
            placeholder="{{inputParams.placeHolder[1]}}"
            type="number"
            (input)="setNumberRange($event)"
            class="txt-lg-med-norm input-cont" 
            formControlName="maxAmount"
            name="input-text"
            textSecurity="inputParams.isPassword"
            [class.num-password-input]="inputParams.isPassword"
            autocomplete="off"
            required>
        </div>
      </div>
    </ng-container>

    <ng-container *ngSwitchCase="DISPLAY_TYPE.AUTOCOMPLETE_SELECT">
      <div class="onb-input-box-cont border-primary">
        <input matInput
          type="text"
          class="txt-lg-med-norm input-cont" 
          placeholder="{{inputParams.placeHolder}}"
          [formControl]="inputForm"
          [matAutocomplete]="auto">

        <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn"
          (optionSelected)="setAutocompleteValue($event)"
          class="txt-xl-med-norm input-cont">
          <mat-option *ngFor="let option of filteredOptions | async" [value]="option"
            class="txt-lg-med-norm">
            {{ option.value }}
          </mat-option>
        </mat-autocomplete>
      </div>
    </ng-container>
    
  </ng-container>  

  <div *ngIf="inputForm" class="errors-list">
    <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.touched && inputParams.isRequired && 
      inputForm.hasError('required')">
      {{ inputParams.validators.validationError }}
    </mat-error>

    <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.touched && inputForm.value &&
      inputForm.hasError('pattern')">
      {{ inputParams.validators.validationError }}
    </mat-error>

    <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputForm.touched && inputForm.errors && 
      inputForm.hasError('futureDate')">
      {{ 'mu_inpt_cont_futr_date_err' | translate }}
    </mat-error>
  </div>

  <div *ngIf="dateRange" class="errors-list">
    <mat-error class="txt-sm-reg-norm error-text" *ngIf="dateRange.get('startDate').hasError('noStartDate')">
      {{ 'mu_inpt_cont_strt_date_err' | translate }}
    </mat-error>
  
    <mat-error class="txt-sm-reg-norm error-text" *ngIf="dateRange.get('startDate').hasError('startDateExceed')">
      {{ 'mu_inpt_cont_date_err' | translate }}
    </mat-error>

    <mat-error class="txt-sm-reg-norm error-text" *ngIf="dateRange.get('startDate').hasError('futureDate') || 
      dateRange.get('endDate').hasError('futureDate')">
      {{ 'mu_inpt_cont_futr_date_err' | translate }}
    </mat-error>

    <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputParams.isRequired && 
      (dateRange.get('startDate').touched && dateRange.get('endDate').touched) &&
      (dateRange.get('startDate').hasError('required') || dateRange.get('endDate').hasError('required'))">
      {{ inputParams.validators.validationError }}
    </mat-error>
  </div>
  
  <div *ngIf="numberRange" class="errors-list">
    <mat-error class="txt-sm-reg-norm error-text" *ngIf="numberRange.get('minAmount').hasError('noMinAmount')">
      {{ 'mu_inpt_cont_min_amnt_err' | translate }}
    </mat-error>
  
    <mat-error class="txt-sm-reg-norm error-text" *ngIf="numberRange.get('minAmount').hasError('minAmountExceed')">
      {{ 'mu_inpt_cont_amnt_err' | translate }}
    </mat-error>

    <mat-error class="txt-sm-reg-norm error-text" *ngIf="inputParams.isRequired && 
      (numberRange.get('minAmount').touched || numberRange.get('maxAmount').touched) &&
      (numberRange.get('minAmount').hasError('required') || numberRange.get('maxAmount').hasError('required'))">
      {{ inputParams.validators.validationError }}
    </mat-error>
  </div>

</div>